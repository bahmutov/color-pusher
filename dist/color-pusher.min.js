/**
 * color-pusher - v0.1.4 - 2013-12-08
 * Copyright (c) 2013 Gleb Bahmutov gleb.bahmutov@gmail.com
 */

!function(a,b){function c(a){function d(a,c){var d;if(b!==a&&(a=parseFloat(a)),b===c)c=255,d=255;else if(1===c){if(b===a||1===a)return 1;c=100,d=1}else d=c;return isNaN(a)||0>=a?0:a>c?d:1>a||1===c?1===d?a:a*d|0:a*d/c}function e(a,b,c){function e(a,b,c){return c=++c%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+(b-a)*(4-6*c):a}if(a=d(a,360)/360,b=d(b,1),c=d(c,1),0===b)return c=Math.round(255*c),[c,c,c];var f=.5>c?c+c*b:c+b-c*b,g=c+c-f;return[Math.round(255*e(g,f,a+1/3)),Math.round(255*e(g,f,a)),Math.round(255*e(g,f,a-1/3))]}function h(a,b,c){a=d(a,360)/60,b=d(b,1),c=d(c,1);var e=0|a,f=a-e,g=Math.round(255*c*(1-b)),h=Math.round(255*c*(1-b*f)),i=Math.round(255*c*(1-b*(1-f)));switch(c=Math.round(255*c),e){case 1:return[h,c,g];case 2:return[g,c,i];case 3:return[g,h,c];case 4:return[i,g,c];case 5:return[c,g,h]}return[c,i,g]}this.setColor=function(a){if(this.success=!0,"number"==typeof a)return this.a=(a>>24&255)/255,this.r=a>>16&255,this.g=a>>8&255,this.b=255&a,void 0;for(;"object"==typeof a;){if(0 in a&&1 in a&&2 in a)return this.a=d(a[3],1),this.r=d(a[0]),this.g=d(a[1]),this.b=d(a[2]),void 0;if("r"in a&&"g"in a&&"b"in a)return this.a=d(a.a,1),this.r=d(a.r),this.g=d(a.g),this.b=d(a.b),void 0;if("h"in a&&"s"in a){var c;if("l"in a)c=e(a.h,a.s,a.l);else if("v"in a)c=h(a.h,a.s,a.v);else{if(!("b"in a))break;c=h(a.h,a.s,a.b)}return this.a=d(a.a,1),this.r=c[0],this.g=c[1],this.b=c[2],void 0}break}if("string"==typeof a){a=a.toLowerCase().replace(/[^a-z0-9,.()#%]/g,"");var f,i;if("transparent"===a)return this.a=this.r=this.g=this.b=0,void 0;if("rand"===a)return i=16777215*Math.random()|0,this.a=1,this.r=i>>16&255,this.g=i>>8&255,this.b=255&i,void 0;if(b!==g[a]&&(a="#"+g[a]),f=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/.exec(a))return this.a=1,this.r=parseInt(f[1],16),this.g=parseInt(f[2],16),this.b=parseInt(f[3],16),void 0;if(f=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/.exec(a))return this.a=1,this.r=parseInt(f[1]+f[1],16),this.g=parseInt(f[2]+f[2],16),this.b=parseInt(f[3]+f[3],16),void 0;if(f=/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(a))return this.a=d(f[5],1),this.r=d(f[1]),this.g=d(f[2]),this.b=d(f[3]),void 0;if(f=/^rgba?\(([0-9.]+\%),([0-9.]+\%),([0-9.]+\%)(,([0-9.]+)\%?)?\)$/.exec(a))return this.a=d(f[5],1),this.r=Math.round(2.55*d(f[1],100)),this.g=Math.round(2.55*d(f[2],100)),this.b=Math.round(2.55*d(f[3],100)),void 0;if(f=/^hs([bvl])a?\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?\)$/.exec(a)){var j;return j="l"===f[1]?e:h,i=j(parseInt(f[2],10),parseInt(f[3],10),parseInt(f[4],10)),this.a=d(f[6],1),this.r=i[0],this.g=i[1],this.b=i[2],void 0}if(f=/^(\d{1,3}),(\d{1,3}),(\d{1,3})(,([0-9.]+))?$/.exec(a))return this.a=d(f[5],1),this.r=d(f[1]),this.g=d(f[2]),this.b=d(f[3]),void 0}this.success=!1},this.getColor=function(a){if(b!==a)switch(a.toLowerCase()){case"rgb":return this.getRGB();case"hsv":case"hsb":return this.getHSV();case"hsl":return this.getHSL();case"int":return this.getInt();case"array":return this.getArray();case"fraction":return this.getFraction();case"css":case"style":return this.getCSS();case"name":return this.getName()}return this.getHex()},this.getRGB=function(){return this.success?{r:this.r,g:this.g,b:this.b,a:this.a}:null},this.getCSS=function(){return this.success?0===this.a?"transparent":1===this.a?"rgb("+this.r+","+this.g+","+this.b+")":f(this.r,this.g,this.b,this.a):null},this.getArray=function(){return this.success?[this.r,this.g,this.b,100*this.a|0]:null},this.getName=function(){if(this.success){var a,b=null,d=g,e=this.getHSL();for(var f in d){var h=new c(d[f]).getHSL(),i=Math.sqrt(.5*(e.h-h.h)*(e.h-h.h)+.5*(e.s-h.s)*(e.s-h.s)+(e.l-h.l)*(e.l-h.l));(null===b||b>i)&&(b=i,a=f)}return a}return null},this.getFraction=function(){return this.success?{r:this.r/255,g:this.g/255,b:this.b/255,a:this.a}:null},this.getHSL=function(){if(this.success){var a,b,c=this.r/255,d=this.g/255,e=this.b/255,f=Math.min(c,d,e),g=Math.max(c,d,e),h=g-f,i=(g+f)/2;return 0===h?(a=0,b=0):(a=c===g?(d-e)/h:d===g?2+(e-c)/h:4+(c-d)/h,b=h/(.5>i?g+f:2-g-f)),{h:Math.round(60*((6+a)%6)),s:Math.round(100*b),l:Math.round(100*i),a:this.a}}return null},this.getHSV=function(){if(this.success){var a,b,c=this.r/255,d=this.g/255,e=this.b/255,f=Math.min(c,d,e),g=Math.max(c,d,e),h=g-f,i=g;return b=0===g?0:h/g,a=0===h?0:c===g?(d-e)/h:d===g?2+(e-c)/h:4+(c-d)/h,{h:Math.round(60*((6+a)%6)),s:Math.round(100*b),v:Math.round(100*i),a:this.a}}return null},this.getHex=function(){if(this.success){var a="0123456789abcdef",b=this.r>>4,c=this.g>>4,d=this.b>>4,e=15&this.r,f=15&this.g,g=15&this.b;return"#"+a.charAt(b)+a.charAt(e)+a.charAt(c)+a.charAt(f)+a.charAt(d)+a.charAt(g)}return null},this.getInt=function(a){return this.success?b!==a?(100*this.a|0)<<24^this.r<<16^this.g<<8^this.b:16777215&(this.r<<16^this.g<<8^this.b):null},this.toString=function(){return this.getHex()},this.setColor(a)}function d(b,d){var e="";do if(e=a.css(b,d),""!==e&&"transparent"!==e&&"rgba(0, 0, 0, 0)"!==e||a.nodeName(b,"body"))break;while(b=b.parentNode);return""===e&&(e=a.support.rgba?"transparent":"backgroundColor"===d?"white":"black"),new c(e)}function e(){this.test=function(a){var b=new c(a);return b.success?b:null},this.red=function(a){var b=new c(a);return b.success?(b.g=255,b.b=255,b):null},this.blue=function(a){var b=new c(a);return b.success?(b.r=255,b.g=255,b):null},this.green=function(a){var b=new c(a);return b.success?(b.r=255,b.b=255,b):null},this.sepia=function(a){var b=new c(a);if(b.success){var d=b.r,e=b.g,f=b.b;return b.r=Math.round(.393*d+.769*e+.189*f),b.g=Math.round(.349*d+.686*e+.168*f),b.b=Math.round(.272*d+.534*e+.131*f),b}return null},this.random=function(){return new c([255*Math.random()|0,255*Math.random()|0,255*Math.random()|0])},this.inverse=function(a){var b=new c(a);return b.success?(b.r^=255,b.g^=255,b.b^=255,b):null},this.opacity=function(a,b,d){var e=new c(a),f=new c(b);return e.success&f.success?(d>1&&(d/=100),d=Math.max(d-1+f.a,0),e.r=Math.round((f.r-e.r)*d+e.r),e.g=Math.round((f.g-e.g)*d+e.g),e.b=Math.round((f.b-e.b)*d+e.b),e):null},this.greyfilter=function(a,b){var d,e=new c(a);if(e.success){switch(b){case 1:d=.35+13*(e.r+e.g+e.b)/60;break;case 2:d=(13*(e.r+e.g+e.b)+5355)/60;break;default:d=.3*e.r+.59*e.g+.11*e.b}return e.r=e.g=e.b=Math.min(0|d,255),e}return null},this.webround=function(a){var b=new c(a);return b.success?((b.r+=51-b.r%51)>255&&(b.r=255),(b.g+=51-b.g%51)>255&&(b.g=255),(b.b+=51-b.b%51)>255&&(b.b=255),b):null},this.distance=function(a,b){var d=new c(a),e=new c(b);return d.success&e.success?Math.sqrt(3*(e.r-d.r)*(e.r-d.r)+4*(e.g-d.g)*(e.g-d.g)+2*(e.b-d.b)*(e.b-d.b)):null},this.readable=function(a,b,d){var e=new c(b),f=new c(a);if(d=d||10,e.success&f.success){var g=.299*f.r+.587*f.g+.114*f.b-.299*e.r-.587*e.g-.114*e.b;return!(g<1.5+141.162*Math.pow(.975,d)&&g>-.5-154.709*Math.pow(.99,d))}return null},this.combine=function(a,b){var d=new c(a),e=new c(b);return d.success&e.success?(d.r^=e.r,d.g^=e.g,d.b^=e.b,d):null},this.breed=function(a,b){var d=new c(a),e=new c(b),f=0,g=6;if(d.success&e.success){for(;g--;)Math.random()<.5&&(f|=15<<(g<<2));return d.r=d.r&(f>>16&255)|e.r&(f>>16&255^255),d.g=d.g&(f>>8&255)|e.g&(f>>8&255^255),d.b=d.b&(f>>0&255)|e.b&(f>>0&255^255),d}return null},this.additive=function(a,b){var d=new c(a),e=new c(b);return d.success&e.success?((d.r+=e.r)>255&&(d.r=255),(d.g+=e.g)>255&&(d.g=255),(d.b+=e.b)>255&&(d.b=255),d):null},this.subtractive=function(a,b){var d=new c(a),e=new c(b);return d.success&e.success?((d.r+=e.r-255)<0&&(d.r=0),(d.g+=e.g-255)<0&&(d.g=0),(d.b+=e.b-255)<0&&(d.b=0),d):null},this.subtract=function(a,b){var d=new c(a),e=new c(b);return d.success&e.success?((d.r-=e.r)<0&&(d.r=0),(d.g-=e.g)<0&&(d.g=0),(d.b-=e.b)<0&&(d.b=0),d):null},this.multiply=function(a,b){var d=new c(a),e=new c(b);return d.success&e.success?(d.r=d.r/255*e.r|0,d.g=d.g/255*e.g|0,d.b=d.b/255*e.b|0,d):null},this.average=function(a,b){var d=new c(a),e=new c(b);return d.success&e.success?(d.r=d.r+e.r>>1,d.g=d.g+e.g>>1,d.b=d.b+e.b>>1,d):null},this.triad=function(a){var b=new c(a);return b.success?[b,new c([b.b,b.r,b.g]),new c([b.g,b.b,b.r])]:null},this.tetrad=function(a){var b=new c(a);return b.success?[b,new c([b.b,b.r,b.b]),new c([b.b,b.g,b.r]),new c([b.r,b.b,b.r])]:null},this.gradientlevel=function(a,d,e,f){if(b===f&&(f=1),e>f)return null;var g=new c(a),h=new c(d);return g.success&h.success?(g.r=g.r+(h.r-g.r)/f*e|0,g.g=g.g+(h.g-g.g)/f*e|0,g.b=g.b+(h.b-g.b)/f*e|0,g):null},this.gradientarray=function(b,d,e){if(d>e||!b.length)return null;if(1==b.length)return new c(b[0]);var f=d*(b.length-1)/(e+1)|0,g=e/(b.length-1);return a.xcolor.gradientlevel(b[f],b[f+1],d-f*g,g)},this.nearestname=function(a){return a=new c(a),a.success?a.getName():null},this.darken=function(a,d,e){if(b===d)d=1;else if(0>d)return this.lighten(a,-d,e);b===e&&(e=32);var f=new c(a);return f.success?((f.r-=e*d)<0&&(f.r=0),(f.g-=e*d)<0&&(f.g=0),(f.b-=e*d)<0&&(f.b=0),f):null},this.lighten=function(a,d,e){if(b===d)d=1;else if(0>d)return this.darken(a,-d,e);b===e&&(e=32);var f=new c(a);return f.success?((f.r+=e*d)>255&&(f.r=255),(f.g+=e*d)>255&&(f.g=255),(f.b+=e*d)>255&&(f.b=255),f):null},this.analogous=function(a,d,e){b===d&&(d=8),b===e&&(e=30);var f=new c(a);if(f.success){var g=f.getHSV(),h=360/e,i=[f];for(g.h=(g.h-(h*d>>1)+720)%360;--d;)g.h+=h,g.h%=360,i.push(new c(g));return i}return null},this.complementary=function(a){var b=new c(a);if(b.success){var d=b.getHSL();return d.h=(d.h+180)%360,new c(d)}return null},this.splitcomplement=function(a){var b=new c(a);if(b.success){var d=b.getHSV(),e=[b];return d.h+=72,d.h%=360,e.push(new c(d)),d.h+=144,d.h%=360,e.push(new c(d)),e}return null},this.monochromatic=function(a,d){b===d&&(d=6);var e=new c(a);if(e.success){for(var f=e.getHSV(),g=[e];--d;)f.v+=20,f.v%=100,g.push(new c(f));return g}return null}}var f,g={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};a.each(["color","backgroundColor","borderColor","borderTopColor","borderBottomColor","borderLeftColor","borderRightColor","outlineColor"],function(e,g){a.cssHooks[g]={set:function(a,b){a.style[g]=new c(b).getCSS()}},a.fx.step[g]=function(a){if(b===a.xinit){if("string"==typeof a.end&&-1!==a.end.indexOf(";")){var e,h=a.end.split(";");if(h.length>2){for(e in h)h[e]=-1===h[e].indexOf("native")?new c(h[e]):d(a.elem,g);a.start=null,a.end=h}else a.start=new c(h[0]),a.end=new c(h[1])}else a.start=d(a.elem,g),a.end=new c(a.end);a.xinit=1}var i=a.start,j=a.end,k=a.pos;if(null===i){var l=k*(j.length-1),m=1>k?0|l:j.length-2;i=j[m],j=j[m+1],k=l-m}a.elem.style[g]=f(i.r+k*(j.r-i.r)|0,i.g+k*(j.g-i.g)|0,i.b+k*(j.b-i.b)|0,i.a+k*(j.a-i.a))}}),a(function(){var b=document.createElement("div"),c=b.style;f=function(a,b,c,d){return"rgba("+a+","+b+","+c+","+d+")"},c.cssText="background-color:rgba(1,1,1,.5)",(a.support.rgba=c.backgroundColor.indexOf("rgba")>-1)||(f=function(a,b,c){return"rgb("+a+","+b+","+c+")"})}),a.xcolor=new e,a.fn.readable=function(){var b=this[0],c="",d="";do if(""!==c||"transparent"!==(c=a.css(b,"color"))&&"rgba(0, 0, 0, 0)"!==c||(c=""),""!==d||"transparent"!==(d=a.css(b,"backgroundColor"))&&"rgba(0, 0, 0, 0)"!==d||(d=""),""!==c&&""!==d||a.nodeName(b,"body"))break;while(b=b.parentNode);return""===c&&(c="black"),""===d&&(d="white"),a.xcolor.readable(d,c)},a.fn.colorize=function(a,b,d){var e={gradient:function(a,b){return a/b},flip:function(a,b,c,d){return" "===d?c:!c},pillow:function(a,b){return a*=2,b>=a?a/b:2-a/b}};if("function"==typeof d);else{if(void 0===e[d])return;d=e[d]}a=new c(a),b=new c(b),this.each(function(){var c=this.childNodes,e=0,g=0;if(a.success&b.success){for(var h=c.length;h--;e+=c[h].textContent.length);!function i(c){var h,j=0;if(3===c.nodeType){var k,l,m,n=a,o=b,p=e,q=0,r=d;for(h=c.nodeValue.length,l=document.createElement("span"),j=0;h>j;++j)k=document.createElement("span"),m=c.nodeValue.charAt(j),q=r(g,p,q,m),k.style.color=f(n.r+q*(o.r-n.r)|0,n.g+q*(o.g-n.g)|0,n.b+q*(o.b-n.b)|0,n.a+q*(o.a-n.a)),k.appendChild(document.createTextNode(m)),l.appendChild(k),++g;c.parentNode.replaceChild(l,c)}else for(h=c.childNodes.length;h>j;++j)i(c.childNodes[j])}(this)}})}}(jQuery),!function(a){"use strict";function b(a,c){var d;D.object(a),D.object(c);for(d in c)if(c.hasOwnProperty(d)){if(a.hasOwnProperty(d)===!1||typeof a[d]!=typeof c[d])return!1;if(e(a[d])&&b(a[d],c[d])===!1)return!1}return!0}function c(a,b){return"undefined"==typeof a||null===a?!1:i(b)&&a instanceof b?!0:!1}function d(a){var b;if(e(a)){for(b in a)if(a.hasOwnProperty(b))return!1;return!0}return!1}function e(a){return"object"==typeof a&&null!==a&&g(a)===!1&&h(a)===!1}function f(a,b){return a&&a.length===b}function g(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)}function h(a){return"[object Date]"===Object.prototype.toString.call(a)}function i(a){return"function"==typeof a}function j(a){return k(a)&&/^https?:\/\/.+/.test(a)}function k(a){return l(a)&&""!==a}function l(a){return"string"==typeof a}function m(a){return q(a)&&(1===a%2||-1===a%2)}function n(a){return q(a)&&0===a%2}function o(a){return q(a)&&a>0}function p(a){return q(a)&&0>a}function q(a){return"number"==typeof a&&isNaN(a)===!1}function r(a,b){var c,d,f={};D.object(a),D.object(b);for(c in b)b.hasOwnProperty(c)&&(d=b[c],i(d)?f[c]=a.hasOwnProperty(c)?d(a[c]):void 0:e(d)&&(f[c]=a.hasOwnProperty(c)?r(a[c],d):void 0));return f}function s(a){var b,c;D.object(a);for(b in a)if(a.hasOwnProperty(b)){if(c=a[b],e(c)&&s(c)===!1)return!1;if(c===!1)return!1}return!0}function t(a){var b,c;D.object(a);for(b in a)if(a.hasOwnProperty(b)){if(c=a[b],e(c)&&t(c))return!0;if(c===!0)return!0}return!1}function u(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function v(a,b){return function(){var c;if(a.apply(null,arguments)===!1)throw c=arguments[arguments.length-1],new Error(k(c)?c:b)}}function w(a){return function(){return null===arguments[0]||void 0===arguments[0]?!0:a.apply(null,arguments)}}function x(a){return y(a,B)}function y(a,b){var c,d={};for(c in b)b.hasOwnProperty(c)&&(d[c]=a(b[c],A[c]));return d}function z(b){"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!=typeof module&&null!==module?module.exports=b:a.check=b}var A,B,C,D,E;B={like:b,instance:c,emptyObject:d,object:e,length:f,array:g,date:h,fn:i,webUrl:j,unemptyString:k,string:l,evenNumber:n,oddNumber:m,positiveNumber:o,negativeNumber:p,number:q},A={like:"Invalid type",instance:"Invalid type",emptyObject:"Invalid object",object:"Invalid object",length:"Invalid length",array:"Invalid array",date:"Invalid date",fn:"Invalid function",webUrl:"Invalid URL",unemptyString:"Invalid string",string:"Invalid string",evenNumber:"Invalid number",oddNumber:"Invalid number",positiveNumber:"Invalid number",negativeNumber:"Invalid number",number:"Invalid number"},C={map:r,every:s,any:t},C=u(C,B),D=x(v),E=x(w),D.maybe=y(v,E),z(u(C,{verify:D,maybe:E}))}(this),check.color=function(a){return check.string(a)?(a=a.trim(),6===a.length&&(a="#"+a),7!==a.length?!1:/^#?[0-9a-f]{6}$/i.test(a)):!1},check.verify.color=function(a,b){if(!check.color(a))throw new Error(b)},check.verify.colors=function(a){check.verify.array(a,"expected array of colors, got "+a),a.forEach(function(a,b){check.verify.color(a,"invalid color "+a+" index "+b)})},function(){function a(a){return a%=360,0>a?360+a:a}function b(a){return a>>>0}function d(a){return a.replace(/^\s+/,"").replace(/\s+$/,"").toLowerCase()}function e(a,b){return Array.prototype.slice.call(a,b)}function f(a,b,c){return a>b?c>a?a:c:b}function g(a,b,c){return(1-c)*a+c*b}function h(a){return a=Math.round(255*a),a>0?255>a?255&a:255:0}function i(a){return a/255}function j(a,b,c){var d,e,f=Math.max(a,b,c),g=Math.min(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return[d,e,h]}function k(a,b,c){function d(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+(b-a)*(2/3-c)*6:a}var e,f,g;if(0==b)e=f=g=c;else{var h=.5>c?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return[e,f,g]}function l(a){for(var b=[parseInt(a.substr(1,1),16),parseInt(a.substr(2,1),16),parseInt(a.substr(3,1),16),1],c=0;3>c;++c)b[c]=(16*b[c]+b[c])/255;return b}function m(a){return[parseInt(a.substr(1,2),16)/255,parseInt(a.substr(3,2),16)/255,parseInt(a.substr(5,2),16)/255,1]}function n(a){var b,c,d=a[0],e=a[1],f=a[2],g=Math.min(Math.min(d,e),f),h=Math.max(Math.max(d,e),f),i=h;return h==g?c=0:h==d?c=60*((e-f)/(h-g))%360:h==e?c=60*((f-d)/(h-g))+120:h==f&&(c=60*((d-e)/(h-g))+240),0>c&&(c+=360),b=0==h?0:1-g/h,[Math.round(c),Math.round(100*b),Math.round(100*i),a[3]]}function o(b){var c=a(b[0]),d=b[1],e=b[2],d=d/100,e=e/100,f=Math.floor(c/60%6),g=c/60-f,h=e*(1-d),i=e*(1-g*d),j=e*(1-(1-g)*d),k=[];switch(f){case 0:k=[e,j,h];break;case 1:k=[i,e,h];break;case 2:k=[h,e,j];break;case 3:k=[h,i,e];break;case 4:k=[j,h,e];break;case 5:k=[e,h,i]}return[k[0],k[1],k[2],b[3]]}function p(b){var c=j(b[0],b[1],b[2]);return c[0]=a(Math.floor(360*c[0])),c[1]=Math.floor(100*c[1]),c[2]=Math.floor(100*c[2]),c}function q(a){var b=p(a);return b.push(a[3]),b}function r(a){var b=parseFloat(a[0])/360,c=parseFloat(a[1])/100,d=parseFloat(a[2])/100,e=k(b,c,d);return[e[0],e[1],e[2],parseFloat(a[3])]}function s(a){this._value=a}function t(a,b){if(void 0==b)return h(this._value[a]);var c=e(this._value,0);if("string"!=typeof b){var d=this.clone();return d._value[a]=b,d}var f;if(f=b.match(/^([+\-\\*]=?)([0-9.]+)/)){var g=f[1],i=parseFloat(f[2]);switch(g[0]){case"+":c[a]+=i/255;break;case"-":c[a]-=i/255;break;case"*":c[a]*=i}return"="==g[1]?(this._value=c,this):new s(c)}}function u(b){return function(){function c(c,d,e){e=parseFloat(e);var f=n(c._value),g=0;switch(d){case"=":f[b]=e,g=1;break;case"+":f[b]+=e,g=1;break;case"+=":f[b]+=e;break;case"-":f[b]-=e,g=1;break;case"-=":f[b]-=e;break;case"*":f[b]*=e,g=1;break;case"*=":f[b]*=e;break;default:throw"Bad op "+d}return 0==b?f[b]=a(f[b]):(1==b||2==b)&&(f[b]<0?f[b]=0:f[b]>99&&(f[b]=99)),g&&(c=c.clone()),c._value=o(f),c}if(0==arguments.length)return n(this._value)[b];if(1==arguments.length){var d;return"string"==typeof arguments[0]&&(d=arguments[0].match(/^([\+\-\*]=?)([0-9.]+)/))?c(this,d[1],d[2]):c(this,"=",arguments[0])}return 2==arguments.length?c(this,arguments[0],arguments[1]):void 0}}var v={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,216],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[216,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},w={byteOrPercent:function(a){var b;return"string"==typeof a&&(b=a.match(/^([0-9]+)%$/))?Math.floor(255*parseFloat(b[1])/100):parseFloat(a)},floatOrPercent:function(a){var b;return"string"==typeof a&&(b=a.match(/^([0-9]+)%$/))?parseFloat(b[1])/100:parseFloat(a)},numberOrPercent:function(a,b){var c;return"string"==typeof a&&(c=a.match(/^([0-9]+)%$/))?parseFloat(c[1])/100*b:parseFloat(a)},rgba:function(a){for(var b=0;3>b;++b)a[b]=i(w.byteOrPercent(a[b]));return a[3]=w.floatOrPercent(a[b]),new s(a)},rgba8:function(a){return new s([i(w.byteOrPercent(a[0])),i(w.byteOrPercent(a[1])),i(w.byteOrPercent(a[2])),i(w.byteOrPercent(a[3]))])},float3:function(a){for(var b=0;3>b;++b)a[b]=w.floatOrPercent(a[b]);return a[3]=1,new s(a)},float4:function(a){for(var b=0;3>b;++b)a[b]=w.floatOrPercent(a[b]);return a[3]=w.floatOrPercent(a[b]),new s(a)},hsla:function(a){return a[0]=w.numberOrPercent(a[0],360),a[1]=w.numberOrPercent(a[1],100),a[2]=w.numberOrPercent(a[2],100),a[3]=w.numberOrPercent(a[3],1),new s(r(a))},hsva:function(b){return b[0]=a(parseFloat(b[0])),b[1]=Math.max(0,Math.min(100,parseFloat(b[1]))),b[2]=Math.max(0,Math.min(100,parseFloat(b[2]))),b[3]=w.floatOrPercent(b[3]),new s(o(b))}},x={keyword:{},hex3:{},hex7:{},rgb:{parse:function(a){return a=a.slice(0),a.push(1),w.rgba(a)}},rgba:{parse:w.rgba},hsl:{parse:function(a){return a=a.slice(0),a.push(1),w.hsla(a)}},hsla:{parse:w.hsla},hsv:{parse:function(a){return a=a.slice(0),a.push(1),w.hsva(a)}},hsva:{parse:w.hsva},rgb8:{parse:function(a){return a=a.slice(0),a.push(1),w.rgba(a)}},rgba8:{parse:function(a){return w.rgba8(a)}},packed_rgba:{parse:function(a){return a=[a>>24&255,a>>16&255,a>>8&255,(255&a)/255],w.rgba(a)},output:function(a){return b(h(a[0])<<24|h(a[1])<<16|h(a[2])<<8|h(a[3]))}},packed_argb:{parse:function(a){return a=[a>>16&255,a>>8&255,a>>0&255,(a>>24&255)/255],w.rgba(a)},output:function(a){return b(h(a[3])<<24|h(a[0])<<16|h(a[1])<<8|h(a[2]))}},float3:{parse:w.float3},float4:{parse:w.float4}},y=function(){var a=null;if(arguments[0]instanceof s)return new s(arguments[0]._value);if("string"==typeof arguments[0]){var b=arguments[0][0];if("#"==b){if(a=arguments[0].match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/i))return new s(l(a[0]));if(a=arguments[0].match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/i))return new s(m(a[0]))}else{if(a=x[arguments[0].toLowerCase()])return 2==arguments.length?a.parse(arguments[1]):a.parse(e(arguments,1));if(a=arguments[0].match(/^\s*([A-Z][A-Z0-9_]+)\s*\(\s*([\-0-9A-FX]+)\s*\)\s*$/i)){var c=x[a[1].toLowerCase()];return c.parse(a[2])}if(a=arguments[0].match(/^\s*([A-Z][A-Z0-9]+)\s*\(\s*([0-9\.]+%?)\s*,\s*([0-9\.]+%?)\s*,\s*([0-9\.]+%?)\s*(,\s*([0-9\.]+%?)\s*)?\)\s*$/i)){var c=x[a[1].toLowerCase()];if(void 0===a[5]){var f=[a[2],a[3],a[4]];return c.parse(f)}var f=[a[2],a[3],a[4],a[6]];return c.parse(f)}if(1==arguments.length&&(a=v[d(arguments[0])])){var f=a;return new s([i(f[0]),i(f[1]),i(f[2]),1])}}}throw"Could not parse color '"+arguments[0]+"'"},z={white:y("white"),black:y("black"),gray:y("gray")},A={clone:function(){return new s(this._value.slice(0))},html:function(){var a=this,b=this._value,c={hex3:function(){return a.hex3()},hex6:function(){return a.hex6()},rgb:function(){return"rgb("+a.rgb().join(",")+")"},rgba:function(){return"rgba("+a.rgba().join(",")+")"},hsl:function(){return"hsl("+p(b).join(",")+")"},hsla:function(){return"hsla("+q(b).join(",")+")"},keyword:function(){var a,c=195076;for(B in v){for(var d=v[B],e=0,f=0;3>f;++f){var g=b[f]-i(d[f]);e+=g*g}c>e&&(a=B,c=e)}return a}},d=arguments[0]||"rgba";return c[d]()},red:function(){return t.call(this,0,arguments[0])},green:function(){return t.call(this,1,arguments[0])},blue:function(){return t.call(this,2,arguments[0])},alpha:function(){return 1==arguments.length?(c=this.clone(),c._value[3]=w.floatOrPercent(arguments[0]),c):this._value[3]},alpha8:function(){return 1==arguments.length?(c=this.clone(),c._value[3]=w.byteOrPercent(arguments[0])/255,c):Math.floor(255*this._value[3])},grayvalue:function(){var a=this._value;return(a[0]+a[1]+a[2])/3},grayvalue8:function(){return h(this.grayvalue())},luminanceFast:function(){var a=this._value;return.2126*a[0]+.7152*a[1]+.0722*a[2]},luminance:function(){function a(a){return.03928>a?a/12.92:Math.pow((a+.055)/1.055,2.4)}var b=a(this._value[0]),c=a(this._value[1]),d=a(this._value[2]);return.2126*b+.7152*c+.0722*d},luminance8:function(){return h(this.luminance())},luminanceFast8:function(){return h(this.luminanceFast())},hsv:function(){return n(this._value).slice(0,3)},hsva:function(){return n(this._value)},packed_rgba:function(){return x.packed_rgba.output(this._value)},packed_argb:function(){return x.packed_argb.output(this._value)},hue:u(0),saturation:u(1),value:u(2),clamp:function(){var a=this._value;return new s([f(a[0],0,1),f(a[1],0,1),f(a[2],0,1),f(a[3],0,1)])},blend:function(a,b){"number"!=typeof b&&(b=w.floatOrPercent(b));var c=this,d=y(a);return new s([g(c._value[0],d._value[0],b),g(c._value[1],d._value[1],b),g(c._value[2],d._value[2],b),g(c._value[3],d._value[3],b)])},add:function(a){var b=this._value,c=y(a)._value;return new s([b[0]+c[0]*c[3],b[1]+c[1]*c[3],b[2]+c[2]*c[3],b[3]])},inc:function(a){var b=this._value,c=y(a)._value;return b[0]+=c[0]*c[3],b[1]+=c[1]*c[3],b[2]+=c[2]*c[3],this},dec:function(a){var b=this._value,c=y(a)._value;return b[0]-=c[0]*c[3],b[1]-=c[1]*c[3],b[2]-=c[2]*c[3],this},subtract:function(a){var b=this._value,c=y(a)._value;return new s([b[0]-c[0]*c[3],b[1]-c[1]*c[3],b[2]-c[2]*c[3],b[3]])},multiply:function(a){var b=this._value,c=y(a)._value;return new s([b[0]*c[0],b[1]*c[1],b[2]*c[2],b[3]*c[3]])},scale:function(a){var b=this._value;return new s([b[0]*a,b[1]*a,b[2]*a,b[3]])},xor:function(a){var b=this.rgba8(),c=y(a).rgba8();return y("rgba8",b[0]^c[0],b[1]^c[1],b[2]^c[2],b[3])},tint:function(a){return this.blend(z.white,a)},shade:function(a){return this.blend(z.black,a)},tone:function(a){return this.blend(z.gray,a)},complement:function(){var b=this.hsva();return b[0]=a(b[0]+180),new s(o(b))},triad:function(){return[new s(this._value),this.hue("+120"),this.hue("+240")]},hueSet:function(){for(var a=0,b=[],c=100;c>=30;c-=35)for(var d=100;d>=30;d-=35)b.push(this.hue("+",a).saturation(c).value(d));return b},hueRange:function(a,b){for(var c=this.hue(),d=[],e=0;b>e;++e){var f=c+2*(e/(b-1)-.5)*a;d.push(this.hue("=",f))}return d},contrastWhiteBlack:function(){return this.value()<50?y("white"):y("black")},contrastGray:function(){var a=this.hsva(),b=a[2]<30?a[2]+20:a[2]-20;return new s(o([a[0],0,b,a[3]]))},contrastText:function(){var a=this._value,b=.241*a[0]*a[0]+.691*a[1]*a[1]+.068*a[2]*a[2];return.51>b?y("white"):y("black")},hex3:function(){function a(a){return Math.min(Math.round(h(a)/16),15).toString(16)}return"#"+a(this._value[0])+a(this._value[1])+a(this._value[2])},hex6:function(){function a(a){var b=h(a).toString(16);return b.length<2?"0"+b:b}return"#"+a(this._value[0])+a(this._value[1])+a(this._value[2])},rgb:function(){var a=this._value;return[h(a[0]),h(a[1]),h(a[2])]},rgba:function(){var a=this._value;return[h(a[0]),h(a[1]),h(a[2]),a[3]]},rgb8:function(){var a=this._value;return[h(a[0]),h(a[1]),h(a[2])]},rgba8:function(){var a=this._value;return[h(a[0]),h(a[1]),h(a[2]),this.alpha8()]},float3:function(){return[this._value[0],this._value[1],this._value[2]]},float4:function(){return[this._value[0],this._value[1],this._value[2],this._value[3]]}};A.sub=A.subtract,A.mul=A.multiply;for(var B in A)s.prototype[B]=A[B];y.float3=function(a,b,c){return new s([a,b,c,1])},y.float4=function(a,b,c,d){return new s([a,b,c,d])},y.version="0.2.5",y.Color=s,"undefined"!=typeof module&&module.exports?module.exports=y:"undefined"!=typeof window?(window.pusher=window.pusher||{},window.pusher.color=y):"undefined"!=typeof self&&(self.pusher=self.pusher||{},self.pusher.color=y)
}(),jQuery&&function(a){function b(b,c){var d=a('<div class="minicolors" />'),e=a.minicolors.defaults;b.data("minicolors-initialized")||(c=a.extend(!0,{},e,c),d.addClass("minicolors-theme-"+c.theme).toggleClass("minicolors-with-opacity",c.opacity),void 0!==c.position&&a.each(c.position.split(" "),function(){d.addClass("minicolors-position-"+this)}),b.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",c).prop("size",7).wrap(d).after('<div class="minicolors-panel minicolors-slider-'+c.control+'"><div class="minicolors-slider"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider"><div class="minicolors-picker"></div></div><div class="minicolors-grid"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),c.inline||(b.after('<span class="minicolors-swatch"><span class="minicolors-swatch-color"></span></span>'),b.next(".minicolors-swatch").on("click",function(a){a.preventDefault(),b.focus()})),b.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),c.inline&&b.parent().addClass("minicolors-inline"),h(b,!1),b.data("minicolors-initialized",!0))}function c(a){var b=a.parent();a.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),b.before(a).remove()}function d(a){var b=a.parent(),c=b.find(".minicolors-panel"),d=a.data("minicolors-settings");!a.data("minicolors-initialized")||a.prop("disabled")||b.hasClass("minicolors-inline")||b.hasClass("minicolors-focus")||(e(),b.addClass("minicolors-focus"),c.stop(!0,!0).fadeIn(d.showSpeed,function(){d.show&&d.show.call(a.get(0))}))}function e(){a(".minicolors-input").each(function(){var b=a(this),c=b.data("minicolors-settings"),d=b.parent();c.inline||d.find(".minicolors-panel").fadeOut(c.hideSpeed,function(){d.hasClass("minicolors-focus")&&c.hide&&c.hide.call(b.get(0)),d.removeClass("minicolors-focus")})})}function f(a,b,c){var d,e,f,h,i=a.parents(".minicolors").find(".minicolors-input"),j=i.data("minicolors-settings"),k=a.find("[class$=-picker]"),l=a.offset().left,m=a.offset().top,n=Math.round(b.pageX-l),o=Math.round(b.pageY-m),p=c?j.animationSpeed:0;b.originalEvent.changedTouches&&(n=b.originalEvent.changedTouches[0].pageX-l,o=b.originalEvent.changedTouches[0].pageY-m),0>n&&(n=0),0>o&&(o=0),n>a.width()&&(n=a.width()),o>a.height()&&(o=a.height()),a.parent().is(".minicolors-slider-wheel")&&k.parent().is(".minicolors-grid")&&(d=75-n,e=75-o,f=Math.sqrt(d*d+e*e),h=Math.atan2(e,d),0>h&&(h+=2*Math.PI),f>75&&(f=75,n=75-75*Math.cos(h),o=75-75*Math.sin(h)),n=Math.round(n),o=Math.round(o)),a.is(".minicolors-grid")?k.stop(!0).animate({top:o+"px",left:n+"px"},p,j.animationEasing,function(){g(i,a)}):k.stop(!0).animate({top:o+"px"},p,j.animationEasing,function(){g(i,a)})}function g(a,b){function c(a,b){var c,d;return a.length&&b?(c=a.offset().left,d=a.offset().top,{x:c-b.offset().left+a.outerWidth()/2,y:d-b.offset().top+a.outerHeight()/2}):null}var d,e,f,g,h,j,k,m=a.val(),o=a.attr("data-opacity"),p=a.parent(),r=a.data("minicolors-settings"),s=p.find(".minicolors-swatch"),t=p.find(".minicolors-grid"),u=p.find(".minicolors-slider"),v=p.find(".minicolors-opacity-slider"),w=t.find("[class$=-picker]"),x=u.find("[class$=-picker]"),y=v.find("[class$=-picker]"),z=c(w,t),A=c(x,u),B=c(y,v);if(b.is(".minicolors-grid, .minicolors-slider")){switch(r.control){case"wheel":g=t.width()/2-z.x,h=t.height()/2-z.y,j=Math.sqrt(g*g+h*h),k=Math.atan2(h,g),0>k&&(k+=2*Math.PI),j>75&&(j=75,z.x=69-75*Math.cos(k),z.y=69-75*Math.sin(k)),e=n(j/.75,0,100),d=n(180*k/Math.PI,0,360),f=n(100-Math.floor(A.y*(100/u.height())),0,100),m=q({h:d,s:e,b:f}),u.css("backgroundColor",q({h:d,s:e,b:100}));break;case"saturation":d=n(parseInt(z.x*(360/t.width()),10),0,360),e=n(100-Math.floor(A.y*(100/u.height())),0,100),f=n(100-Math.floor(z.y*(100/t.height())),0,100),m=q({h:d,s:e,b:f}),u.css("backgroundColor",q({h:d,s:100,b:f})),p.find(".minicolors-grid-inner").css("opacity",e/100);break;case"brightness":d=n(parseInt(z.x*(360/t.width()),10),0,360),e=n(100-Math.floor(z.y*(100/t.height())),0,100),f=n(100-Math.floor(A.y*(100/u.height())),0,100),m=q({h:d,s:e,b:f}),u.css("backgroundColor",q({h:d,s:e,b:100})),p.find(".minicolors-grid-inner").css("opacity",1-f/100);break;default:d=n(360-parseInt(A.y*(360/u.height()),10),0,360),e=n(Math.floor(z.x*(100/t.width())),0,100),f=n(100-Math.floor(z.y*(100/t.height())),0,100),m=q({h:d,s:e,b:f}),t.css("backgroundColor",q({h:d,s:100,b:100}))}a.val(l(m,r.letterCase))}b.is(".minicolors-opacity-slider")&&(o=r.opacity?parseFloat(1-B.y/v.height()).toFixed(2):1,r.opacity&&a.attr("data-opacity",o)),s.find("SPAN").css({backgroundColor:m,opacity:o}),i(a,m,o)}function h(a,b){var c,d,e,f,g,h,j,k=a.parent(),o=a.data("minicolors-settings"),p=k.find(".minicolors-swatch"),s=k.find(".minicolors-grid"),t=k.find(".minicolors-slider"),u=k.find(".minicolors-opacity-slider"),v=s.find("[class$=-picker]"),w=t.find("[class$=-picker]"),x=u.find("[class$=-picker]");switch(c=l(m(a.val(),!0),o.letterCase),c||(c=l(m(o.defaultValue,!0),o.letterCase)),d=r(c),b||a.val(c),o.opacity&&(e=""===a.attr("data-opacity")?1:n(parseFloat(a.attr("data-opacity")).toFixed(2),0,1),isNaN(e)&&(e=1),a.attr("data-opacity",e),p.find("SPAN").css("opacity",e),g=n(u.height()-u.height()*e,0,u.height()),x.css("top",g+"px")),p.find("SPAN").css("backgroundColor",c),o.control){case"wheel":h=n(Math.ceil(.75*d.s),0,s.height()/2),j=d.h*Math.PI/180,f=n(75-Math.cos(j)*h,0,s.width()),g=n(75-Math.sin(j)*h,0,s.height()),v.css({top:g+"px",left:f+"px"}),g=150-d.b/(100/s.height()),""===c&&(g=0),w.css("top",g+"px"),t.css("backgroundColor",q({h:d.h,s:d.s,b:100}));break;case"saturation":f=n(5*d.h/12,0,150),g=n(s.height()-Math.ceil(d.b/(100/s.height())),0,s.height()),v.css({top:g+"px",left:f+"px"}),g=n(t.height()-d.s*(t.height()/100),0,t.height()),w.css("top",g+"px"),t.css("backgroundColor",q({h:d.h,s:100,b:d.b})),k.find(".minicolors-grid-inner").css("opacity",d.s/100);break;case"brightness":f=n(5*d.h/12,0,150),g=n(s.height()-Math.ceil(d.s/(100/s.height())),0,s.height()),v.css({top:g+"px",left:f+"px"}),g=n(t.height()-d.b*(t.height()/100),0,t.height()),w.css("top",g+"px"),t.css("backgroundColor",q({h:d.h,s:d.s,b:100})),k.find(".minicolors-grid-inner").css("opacity",1-d.b/100);break;default:f=n(Math.ceil(d.s/(100/s.width())),0,s.width()),g=n(s.height()-Math.ceil(d.b/(100/s.height())),0,s.height()),v.css({top:g+"px",left:f+"px"}),g=n(t.height()-d.h/(360/t.height()),0,t.height()),w.css("top",g+"px"),s.css("backgroundColor",q({h:d.h,s:100,b:100}))}a.data("minicolors-initialized")&&i(a,c,e)}function i(a,b,c){var d=a.data("minicolors-settings"),e=a.data("minicolors-lastChange");e&&e.hex===b&&e.opacity===c||(a.data("minicolors-lastChange",{hex:b,opacity:c}),d.change&&(d.changeDelay?(clearTimeout(a.data("minicolors-changeTimeout")),a.data("minicolors-changeTimeout",setTimeout(function(){d.change.call(a.get(0),b,c)},d.changeDelay))):d.change.call(a.get(0),b,c)),a.trigger("change").trigger("input"))}function j(b){var c=m(a(b).val(),!0),d=t(c),e=a(b).attr("data-opacity");return d?(void 0!==e&&a.extend(d,{a:parseFloat(e)}),d):null}function k(b,c){var d=m(a(b).val(),!0),e=t(d),f=a(b).attr("data-opacity");return e?(void 0===f&&(f=1),c?"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(f)+")":"rgb("+e.r+", "+e.g+", "+e.b+")"):null}function l(a,b){return"uppercase"===b?a.toUpperCase():a.toLowerCase()}function m(a,b){return a=a.replace(/[^A-F0-9]/gi,""),3!==a.length&&6!==a.length?"":(3===a.length&&b&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),"#"+a)}function n(a,b,c){return b>a&&(a=b),a>c&&(a=c),a}function o(a){var b={},c=Math.round(a.h),d=Math.round(255*a.s/100),e=Math.round(255*a.b/100);if(0===d)b.r=b.g=b.b=e;else{var f=e,g=(255-d)*e/255,h=(f-g)*(c%60)/60;360===c&&(c=0),60>c?(b.r=f,b.b=g,b.g=g+h):120>c?(b.g=f,b.b=g,b.r=f-h):180>c?(b.g=f,b.r=g,b.b=g+h):240>c?(b.b=f,b.r=g,b.g=f-h):300>c?(b.b=f,b.g=g,b.r=g+h):360>c?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)}return{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}}function p(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1===b.length&&(c[a]="0"+b)}),"#"+c.join("")}function q(a){return p(o(a))}function r(a){var b=s(t(a));return 0===b.s&&(b.h=360),b}function s(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!==d?255*e/d:0,b.h=0!==b.s?a.r===d?(a.g-a.b)/e:a.g===d?2+(a.b-a.r)/e:4+(a.r-a.g)/e:-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b}function t(a){return a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16),{r:a>>16,g:(65280&a)>>8,b:255&a}}a.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},a.extend(a.fn,{minicolors:function(f,g){switch(f){case"destroy":return a(this).each(function(){c(a(this))}),a(this);case"hide":return e(),a(this);case"opacity":return void 0===g?a(this).attr("data-opacity"):(a(this).each(function(){h(a(this).attr("data-opacity",g))}),a(this));case"rgbObject":return j(a(this),"rgbaObject"===f);case"rgbString":case"rgbaString":return k(a(this),"rgbaString"===f);case"settings":return void 0===g?a(this).data("minicolors-settings"):(a(this).each(function(){var b=a(this).data("minicolors-settings")||{};c(a(this)),a(this).minicolors(a.extend(!0,b,g))}),a(this));case"show":return d(a(this).eq(0)),a(this);case"value":return void 0===g?a(this).val():(a(this).each(function(){h(a(this).val(g))}),a(this));default:return"create"!==f&&(g=f),a(this).each(function(){b(a(this),g)}),a(this)}}}),a(document).on("mousedown.minicolors touchstart.minicolors",function(b){a(b.target).parents().add(b.target).hasClass("minicolors")||e()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(b){var c=a(this);b.preventDefault(),a(document).data("minicolors-target",c),f(c,b,!0)}).on("mousemove.minicolors touchmove.minicolors",function(b){var c=a(document).data("minicolors-target");c&&f(c,b)}).on("mouseup.minicolors touchend.minicolors",function(){a(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(b){var c=a(this).parent().find(".minicolors-input");b.preventDefault(),d(c)}).on("focus.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&d(b)}).on("blur.minicolors",".minicolors-input",function(){var b=a(this),c=b.data("minicolors-settings");b.data("minicolors-initialized")&&(b.val(m(b.val(),!0)),""===b.val()&&b.val(m(c.defaultValue,!0)),b.val(l(b.val(),c.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(b){var c=a(this);if(c.data("minicolors-initialized"))switch(b.keyCode){case 9:e();break;case 13:case 27:e(),c.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&h(b,!0)}).on("paste.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&setTimeout(function(){h(b,!0)},1)})}(jQuery),angular.module("minicolors",[]).directive("minicolors",function(){return{require:"?ngModel",restrict:"A",link:function(a,b,c,d){function e(a){return a&&7===a.length?/^#?[0-9a-f]{6}$/i.test(a):void 0}var f=function(){var b={theme:"bootstrap",position:"top left"};return angular.extend(b,a.$eval(c.minicolors))},g=function(){if(d){var c=f();d.$render=function(){a.$$phase||a.$apply(function(){var a=d.$viewValue;b.minicolors("value",a)})},b.minicolors("destroy"),b.minicolors(c),d.$render()}};g(),a.$watch(f,g,!0),a.$watch(c.ngModel,function(a){e(a)&&b.minicolors("value",a)})}}}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset-titles.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){var b=function(a,b,c){b.removeClass("collapse"),b.css({height:c}),b[0].offsetWidth,b.addClass("collapse")};return{link:function(c,d,e){var f,g=!0;c.$watch(e.collapse,function(a){a?k():j()});var h,i=function(b){return h&&h.cancel(),h=a(d,b),h.then(function(){h=void 0},function(){h=void 0}),h},j=function(){g?(g=!1,f||(b(c,d,"auto"),d.addClass("in"))):i({height:d[0].scrollHeight+"px"}).then(function(){f||(b(c,d,"auto"),d.addClass("in"))}),f=!1},k=function(){f=!0,d.removeClass("in"),g?(g=!1,b(c,d,0)):(b(c,d,d[0].scrollHeight+"px"),i({height:"0"}))}}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.scope=a,this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(this.groups.indexOf(a),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(a){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(a){this.heading=a}}],link:function(b,c,d,e){var f,g;e.addGroup(b),b.isOpen=!1,d.isOpen&&(f=a(d.isOpen),g=f.assign,e.scope.$watch(f,function(a){b.isOpen=!!a})),b.$watch("isOpen",function(a){a&&e.closeOthers(b),g&&g(e.scope,a)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(a,b,c){return function(a,b,d,e){e.setHeading(c(a,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"},link:function(a,b,c){a.closeable="close"in c}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){f.$render=function(){d.toggleClass(b,angular.equals(f.$modelValue,a.$eval(e.btnRadio)))},d.bind(c,function(){d.hasClass(b)||a.$apply(function(){f.$setViewValue(a.$eval(e.btnRadio)),f.$render()})})}}}]).directive("btnCheckbox",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){function g(){var b=a.$eval(e.btnCheckboxTrue);return angular.isDefined(b)?b:!0}function h(){var b=a.$eval(e.btnCheckboxFalse);return angular.isDefined(b)?b:!1}f.$render=function(){d.toggleClass(b,angular.equals(f.$modelValue,g()))},d.bind(c,function(){a.$apply(function(){f.$setViewValue(d.hasClass(b)?h():g()),f.$render()})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(a,b,c){function d(){function c(){f?(a.next(),d()):a.pause()}e&&b.cancel(e);var g=+a.interval;!isNaN(g)&&g>=0&&(e=b(c,g))}var e,f,g=this,h=g.slides=[],i=-1;g.currentSlide=null,g.select=function(e,f){function j(){g.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element?(e.$element.addClass(f),e.$element[0].offsetWidth,angular.forEach(h,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(g.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){k(b,c)},function(){k(b,c)})}(e,g.currentSlide)):k(e,g.currentSlide),g.currentSlide=e,i=l,d()}function k(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var l=h.indexOf(e);void 0===f&&(f=l>i?"next":"prev"),e&&e!==g.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(j)):j())},g.indexOfSlide=function(a){return h.indexOf(a)},a.next=function(){var b=(i+1)%h.length;return a.$currentTransition?void 0:g.select(h[b],"next")},a.prev=function(){var b=0>i-1?h.length-1:i-1;return a.$currentTransition?void 0:g.select(h[b],"prev")},a.select=function(a){g.select(a)},a.isActive=function(a){return g.currentSlide===a},a.slides=function(){return h},a.$watch("interval",d),a.play=function(){f||(f=!0,d())},a.pause=function(){a.noPause||(f=!1,e&&b.cancel(e))},g.addSlide=function(b,c){b.$element=c,h.push(b),1===h.length||b.active?(g.select(h[h.length-1]),1==h.length&&a.play()):b.active=!1},g.removeSlide=function(a){var b=h.indexOf(a);h.splice(b,1),h.length>0&&a.active?b>=h.length?g.select(h[b-1]):g.select(h[b]):i>b&&i--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(a){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(b,c,d,e){if(d.active){var f=a(d.active),g=f.assign,h=b.active=f(b.$parent);b.$watch(function(){var a=f(b.$parent);return a!==b.active&&(a!==h?h=b.active=a:g(b.$parent,a=h=b.active)),a})}e.addSlide(b,c),b.$on("$destroy",function(){e.removeSlide(b)}),b.$watch("active",function(a){a&&e.select(b)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].body.scrollTop||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].body.scrollLeft||a[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(a,b,c,d){function e(b,c){return angular.isDefined(b)?a.$parent.$eval(b):c}function f(a,b){return new Date(a,b,0).getDate()}function g(a,b){for(var c=new Array(b),d=a,e=0;b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a,b,d,e){return{date:a,label:c(a,b),selected:!!d,secondary:!!e}}var i={day:e(b.dayFormat,d.dayFormat),month:e(b.monthFormat,d.monthFormat),year:e(b.yearFormat,d.yearFormat),dayHeader:e(b.dayHeaderFormat,d.dayHeaderFormat),dayTitle:e(b.dayTitleFormat,d.dayTitleFormat),monthTitle:e(b.monthTitleFormat,d.monthTitleFormat)},j=e(b.startingDay,d.startingDay),k=e(b.yearRange,d.yearRange);this.minDate=d.minDate?new Date(d.minDate):null,this.maxDate=d.maxDate?new Date(d.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(a,b){var d=a.getFullYear(),e=a.getMonth(),k=new Date(d,e,1),l=j-k.getDay(),m=l>0?7-l:-l,n=new Date(k),o=0;m>0&&(n.setDate(-m+1),o+=m),o+=f(d,e+1),o+=(7-o%7)%7;for(var p=g(n,o),q=new Array(7),r=0;o>r;r++){var s=new Date(p[r]);p[r]=h(s,i.day,b&&b.getDate()===s.getDate()&&b.getMonth()===s.getMonth()&&b.getFullYear()===s.getFullYear(),s.getMonth()!==e)}for(var t=0;7>t;t++)q[t]=c(p[t].date,i.dayHeader);return{objects:p,title:c(a,i.dayTitle),labels:q}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(a,b){for(var d=new Array(12),e=a.getFullYear(),f=0;12>f;f++){var g=new Date(e,f,1);d[f]=h(g,i.month,b&&b.getMonth()===f&&b.getFullYear()===e)}return{objects:d,title:c(a,i.monthTitle)}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(a,b){for(var c=new Array(k),d=a.getFullYear(),e=parseInt((d-1)/k,10)*k+1,f=0;k>f;f++){var g=new Date(e+f,0,1);c[f]=h(g,i.year,b&&b.getFullYear()===g.getFullYear())}return{objects:c,title:[c[0].label,c[k-1].label].join(" - ")}},compare:function(a,b){return a.getFullYear()-b.getFullYear()},split:5,step:{years:k}}],this.isDisabled=function(b,c){var d=this.modes[c||0];return this.minDate&&d.compare(b,this.minDate)<0||this.maxDate&&d.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:d.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(a,b,c,d){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,e,f,g){function h(){a.showWeekNumbers=0===o&&q}function i(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function j(b){var c=null,e=!0;n.$modelValue&&(c=new Date(n.$modelValue),isNaN(c)?(e=!1,d.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):b&&(p=c)),n.$setValidity("date",e);var f=m.modes[o],g=f.getVisibleDates(p,c);angular.forEach(g.objects,function(a){a.disabled=m.isDisabled(a.date,o)}),n.$setValidity("date-disabled",!c||!m.isDisabled(c)),a.rows=i(g.objects,f.split),a.labels=g.labels||[],a.title=g.title}function k(a){o=a,h(),j()}function l(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var m=g[0],n=g[1];if(n){var o=0,p=new Date,q=c.showWeeks;f.showWeeks?a.$parent.$watch(b(f.showWeeks),function(a){q=!!a,h()}):h(),f.min&&a.$parent.$watch(b(f.min),function(a){m.minDate=a?new Date(a):null,j()}),f.max&&a.$parent.$watch(b(f.max),function(a){m.maxDate=a?new Date(a):null,j()}),n.$render=function(){j(!0)},a.select=function(a){if(0===o){var b=new Date(n.$modelValue);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),n.$setViewValue(b),j(!0)}else p=a,k(o-1)},a.move=function(a){var b=m.modes[o].step;p.setMonth(p.getMonth()+a*(b.months||0)),p.setFullYear(p.getFullYear()+a*(b.years||0)),j()},a.toggleMode=function(){k((o+1)%m.modes.length)},a.getWeekNumber=function(b){return 0===o&&a.showWeekNumbers&&7===b.length?l(b[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"Today",toggleWeeksText:"Weeks",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",link:function(h,i,j,k){function l(a){v?v(h,!!a):t.isOpen=!!a}function m(a){if(a){if(angular.isDate(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=new Date(a);return isNaN(b)?(k.$setValidity("date",!1),void 0):(k.$setValidity("date",!0),b)}return k.$setValidity("date",!1),void 0}return k.$setValidity("date",!0),null}function n(){t.date=k.$modelValue,p()}function o(a,c,d){a&&(h.$watch(b(a),function(a){t[c]=a}),z.attr(d||c,c))}function p(){t.position=s?d.offset(i):d.position(i),t.position.top=t.position.top+i.prop("offsetHeight")}var q;j.$observe("datepickerPopup",function(a){q=a||f.dateFormat,k.$render()});var r=angular.isDefined(j.closeOnDateSelection)?h.$eval(j.closeOnDateSelection):f.closeOnDateSelection,s=angular.isDefined(j.datepickerAppendToBody)?h.$eval(j.datepickerAppendToBody):f.appendToBody,t=h.$new();h.$on("$destroy",function(){t.$destroy()}),j.$observe("currentText",function(a){t.currentText=angular.isDefined(a)?a:f.currentText}),j.$observe("toggleWeeksText",function(a){t.toggleWeeksText=angular.isDefined(a)?a:f.toggleWeeksText}),j.$observe("clearText",function(a){t.clearText=angular.isDefined(a)?a:f.clearText}),j.$observe("closeText",function(a){t.closeText=angular.isDefined(a)?a:f.closeText});var u,v;j.isOpen&&(u=b(j.isOpen),v=u.assign,h.$watch(u,function(a){t.isOpen=!!a})),t.isOpen=u?u(h):!1;var w=function(a){t.isOpen&&a.target!==i[0]&&t.$apply(function(){l(!1)})},x=function(){t.$apply(function(){l(!0)})},y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection()"});var z=angular.element(y.children()[0]);j.datepickerOptions&&z.attr(angular.extend({},h.$eval(j.datepickerOptions))),k.$parsers.unshift(m),t.dateSelection=function(){k.$setViewValue(t.date),k.$render(),r&&l(!1)},i.bind("input change keyup",function(){t.$apply(function(){n()})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,q):"";i.val(a),n()},o(j.min,"min"),o(j.max,"max"),j.showWeeks?o(j.showWeeks,"showWeeks","show-weeks"):(t.showWeeks=g.showWeeks,z.attr("show-weeks","showWeeks")),j.dateDisabled&&z.attr("date-disabled",j.dateDisabled);var A=!1,B=!1;t.$watch("isOpen",function(a){a?(p(),c.bind("click",w),B&&i.unbind("focus",x),i[0].focus(),A=!0):(A&&c.unbind("click",w),i.bind("focus",x),B=!0),v&&v(h,a)});var C=b(j.ngModel).assign;t.today=function(){C(h,new Date)},t.clear=function(){C(h,null)};var D=a(y)(t);s?c.find("body").append(D):i.after(D)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(a){var b=null,c=angular.noop;return{restrict:"CA",link:function(d,e){d.$watch("$location.path",function(){c()}),e.parent().bind("click",function(){c()}),e.bind("click",function(d){var f=e===b;d.preventDefault(),d.stopPropagation(),b&&c(),f||e.hasClass("disabled")||e.prop("disabled")||(e.parent().addClass("open"),b=e,c=function(d){d&&(d.preventDefault(),d.stopPropagation()),a.unbind("click",c),e.parent().removeClass("open"),c=angular.noop,b=null},a.bind("click",c))})}}}]),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(a,b){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(c){b(function(){c.animate=!0}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout",function(a){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(b,c,d){b.windowClass=d.windowClass||"",a(function(){b.animate=!0})}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d){function e(){for(var a=-1,b=k.keys(),c=0;c<b.length;c++)k.get(b[c]).value.backdrop&&(a=c);return a}function f(a){var b=k.get(a).value;k.remove(a),b.modalDomEl.remove(),h&&-1==e()&&(h.remove(),h=void 0),b.modalScope.$destroy()}var g,h,i=c.$new(!0),j=a.find("body").eq(0),k=d.createNew(),l={};return c.$watch(e,function(a){i.index=a}),a.bind("keydown",function(a){var b;27===a.which&&(b=k.top(),b&&b.value.keyboard&&c.$apply(function(){l.dismiss(b.key)}))}),l.open=function(a,c){k.add(a,{deferred:c.deferred,modalScope:c.scope,backdrop:c.backdrop,keyboard:c.keyboard});var d=angular.element("<div modal-window></div>");d.attr("window-class",c.windowClass),d.attr("index",k.length()-1),d.html(c.content);var f=b(d)(c.scope);k.top().value.modalDomEl=f,j.append(f),e()>=0&&!h&&(g=angular.element("<div modal-backdrop></div>"),h=b(g)(i),j.append(h))},l.close=function(a,b){var c=k.get(a);c&&(c.value.deferred.resolve(b),f(a))},l.dismiss=function(a,b){var c=k.get(a).value;c&&(c.deferred.reject(b),f(a))},l.getTop=function(){return k.top()},l}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(a.templateUrl,{cache:f}).then(function(a){return a.data
})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,windowClass:b.windowClass})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(a,b,c,d){var e=this,f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(d){b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){e.itemsPerPage=parseInt(b,10),a.totalPages=e.calculateTotalPages()}):this.itemsPerPage=d},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===a.totalPages},this.isActive=function(a){return this.page===a},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.getAttributeValue=function(b,c,e){return angular.isDefined(b)?e?d(b)(a.$parent):a.$parent.$eval(b):c},this.render=function(){this.page=parseInt(a.page,10)||1,this.page>0&&this.page<=a.totalPages&&(a.pages=this.getPages(this.page,a.totalPages))},a.selectPage=function(b){!e.isActive(b)&&b>0&&b<=a.totalPages&&(a.page=b,a.onSelectPage({page:b}))},a.$watch("page",function(){e.render()}),a.$watch("totalItems",function(){a.totalPages=e.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),e.page>b?a.selectPage(b):e.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c,d){return{number:a,text:b,active:c,disabled:d}}var h,i=f.getAttributeValue(e.boundaryLinks,b.boundaryLinks),j=f.getAttributeValue(e.directionLinks,b.directionLinks),k=f.getAttributeValue(e.firstText,b.firstText,!0),l=f.getAttributeValue(e.previousText,b.previousText,!0),m=f.getAttributeValue(e.nextText,b.nextText,!0),n=f.getAttributeValue(e.lastText,b.lastText,!0),o=f.getAttributeValue(e.rotate,b.rotate);f.init(b.itemsPerPage),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){h=parseInt(a,10),f.render()}),f.getPages=function(a,b){var c=[],d=1,e=b,p=angular.isDefined(h)&&b>h;p&&(o?(d=Math.max(a-Math.floor(h/2),1),e=d+h-1,e>b&&(e=b,d=e-h+1)):(d=(Math.ceil(a/h)-1)*h+1,e=Math.min(d+h-1,b)));for(var q=d;e>=q;q++){var r=g(q,q,f.isActive(q),!1);c.push(r)}if(p&&!o){if(d>1){var s=g(d-1,"...",!1,!1);c.unshift(s)}if(b>e){var t=g(e+1,"...",!1,!1);c.push(t)}}if(j){var u=g(a-1,l,!1,f.noPrevious());c.unshift(u);var v=g(a+1,m,!1,f.noNext());c.push(v)}if(i){var w=g(1,k,!1,f.noPrevious());c.unshift(w);var x=g(b,n,!1,f.noNext());c.push(x)}return c}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){function f(a,b,c,d,e){return{number:a,text:b,disabled:c,previous:i&&d,next:i&&e}}var g=e.getAttributeValue(d.previousText,a.previousText,!0),h=e.getAttributeValue(d.nextText,a.nextText,!0),i=e.getAttributeValue(d.align,a.align);e.init(a.itemsPerPage),e.getPages=function(a){return[f(a-1,g,e.noPrevious(),!0,!1),f(a+1,h,e.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<"+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></'+p+"-popup>";return{restrict:"EA",scope:!0,link:function(a,b,c){function d(){a.tt_isOpen?m():k()}function k(){(!z||a.$eval(c[l+"Enable"]))&&(a.tt_popupDelay?t=g(p,a.tt_popupDelay):a.$apply(p))}function m(){a.$apply(function(){q()})}function p(){var c,d,e,f;if(a.tt_content){switch(r&&g.cancel(r),u.css({top:0,left:0,display:"block"}),w?v.append(u):b.after(u),c=w?j.offset(b):j.position(b),d=u.prop("offsetWidth"),e=u.prop("offsetHeight"),a.tt_placement){case"right":f={top:c.top+c.height/2-e/2,left:c.left+c.width};break;case"bottom":f={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"left":f={top:c.top+c.height/2-e/2,left:c.left-d};break;default:f={top:c.top-e,left:c.left+c.width/2-d/2}}f.top+="px",f.left+="px",u.css(f),a.tt_isOpen=!0}}function q(){a.tt_isOpen=!1,g.cancel(t),a.tt_animation?r=g(function(){u.remove()},500):u.remove()}var r,t,u=f(s)(a),v=i.find("body"),w=angular.isDefined(o.appendToBody)?o.appendToBody:!1,x=n(void 0),y=!1,z=angular.isDefined(c[l+"Enable"]);a.tt_isOpen=!1,c.$observe(e,function(b){b?a.tt_content=b:a.tt_isOpen&&q()}),c.$observe(l+"Title",function(b){a.tt_title=b}),c.$observe(l+"Placement",function(b){a.tt_placement=angular.isDefined(b)?b:o.placement}),c.$observe(l+"Animation",function(b){a.tt_animation=angular.isDefined(b)?!!b:o.animation}),c.$observe(l+"PopupDelay",function(b){var c=parseInt(b,10);a.tt_popupDelay=isNaN(c)?o.popupDelay:c}),c.$observe(l+"Trigger",function(a){y&&(b.unbind(x.show,k),b.unbind(x.hide,m)),x=n(a),x.show===x.hide?b.bind(x.show,d):(b.bind(x.show,k),b.bind(x.hide,m)),y=!0}),c.$observe(l+"AppendToBody",function(b){w=angular.isDefined(b)?h(b)(a):w}),w&&a.$on("$locationChangeSuccess",function(){a.tt_isOpen&&q()}),a.$on("$destroy",function(){g.cancel(t),u.remove(),u.unbind(),u=null,v=null})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window","$tooltip",function(a,b,c,d,e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,autoType:!1,stackedTypes:["success","info","warning","danger"]}).controller("ProgressBarController",["$scope","$attrs","progressConfig",function(a,b,c){function d(a){return g[a]}var e=angular.isDefined(b.animate)?a.$eval(b.animate):c.animate,f=angular.isDefined(b.autoType)?a.$eval(b.autoType):c.autoType,g=angular.isDefined(b.stackedTypes)?a.$eval("["+b.stackedTypes+"]"):c.stackedTypes;this.makeBar=function(a,b,c){var g=angular.isObject(a)?a.value:a||0,h=angular.isObject(b)?b.value:b||0,i=angular.isObject(a)&&angular.isDefined(a.type)?a.type:f?d(c||0):null;return{from:h,to:g,type:i,animate:e}},this.addBar=function(b){a.bars.push(b),a.totalPercent+=b.to},this.clearBars=function(){a.bars=[],a.totalPercent=0},this.clearBars()}]).directive("progress",function(){return{restrict:"EA",replace:!0,controller:"ProgressBarController",scope:{value:"=percent",onFull:"&",onEmpty:"&"},templateUrl:"template/progressbar/progress.html",link:function(a,b,c,d){a.$watch("value",function(a,b){if(d.clearBars(),angular.isArray(a))for(var c=0,e=a.length;e>c;c++)d.addBar(d.makeBar(a[c],b[c],c));else d.addBar(d.makeBar(a,b))},!0),a.$watch("totalPercent",function(b){b>=100?a.onFull():0>=b&&a.onEmpty()},!0)}}}).directive("progressbar",["$transition",function(a){return{restrict:"EA",replace:!0,scope:{width:"=",old:"=",type:"=",animate:"="},templateUrl:"template/progressbar/bar.html",link:function(b,c){b.$watch("width",function(d){b.animate?(c.css("width",b.old+"%"),a(c,{width:d+"%"})):c.css("width",d+"%")})}}}]),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(a,b,c,d){this.maxRange=angular.isDefined(b.max)?a.$parent.$eval(b.max):d.max,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):d.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):d.stateOff,this.createRateObjects=function(a){for(var b={stateOn:this.stateOn,stateOff:this.stateOff},c=0,d=a.length;d>c;c++)a[c]=angular.extend({index:c},b,a[c]);return a},a.range=angular.isDefined(b.ratingStates)?this.createRateObjects(angular.copy(a.$parent.$eval(b.ratingStates))):this.createRateObjects(new Array(this.maxRange)),a.rate=function(b){a.readonly||a.value===b||(a.value=b)},a.enter=function(b){a.readonly||(a.val=b),a.onHover({value:b})},a.reset=function(){a.val=angular.copy(a.value),a.onLeave()},a.$watch("value",function(b){a.val=b}),a.readonly=!1,b.readonly&&a.$parent.$watch(c(b.readonly),function(b){a.readonly=!!b})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).directive("tabs",function(){return function(){throw new Error("The `tabs` directive is deprecated, please migrate to `tabset`. Instructions can be found at http://github.com/angular-ui/bootstrap/tree/master/CHANGELOG.md")}}).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(a){a.active=!1}),a.active=!0},b.addTab=function(a){c.push(a),(1===c.length||a.active)&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,require:"^tabset",scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",compile:function(a,b,c){return function(a,b,d,e){a.vertical=angular.isDefined(d.vertical)?a.$parent.$eval(d.vertical):!1,a.type=angular.isDefined(d.type)?a.$parent.$eval(d.type):"tabs",a.direction=angular.isDefined(d.direction)?a.$parent.$eval(d.direction):"top",a.tabsAbove="below"!=a.direction,e.$scope=a,e.$transcludeFn=c}}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){var g,h;e.active?(g=a(e.active),h=g.assign,b.$parent.$watch(g,function(a,c){a!==c&&(b.active=!!a)}),b.active=g(b.$parent)):h=g=angular.noop,b.$watch("active",function(a){h(b.$parent,a),a?(f.select(b),b.onSelect()):b.onDeselect()}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}).directive("tabsetTitles",function(){return{restrict:"A",require:"^tabset",templateUrl:"template/tabs/tabset-titles.html",replace:!0,link:function(a,b,c,d){a.$eval(c.tabsetTitles)?d.$transcludeFn(d.$scope.$parent,function(a){b.append(a)}):b.remove()}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(a,b,c){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(d,e,f,g){function h(){var a=parseInt(d.hours,10),b=d.showMeridian?a>0&&13>a:a>=0&&24>a;return b?(d.showMeridian&&(12===a&&(a=0),d.meridian===p[1]&&(a+=12)),a):void 0}function i(){var a=parseInt(d.minutes,10);return a>=0&&60>a?a:void 0}function j(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function k(a){l(),g.$setViewValue(new Date(o)),m(a)}function l(){g.$setValidity("time",!0),d.invalidHours=!1,d.invalidMinutes=!1}function m(a){var b=o.getHours(),c=o.getMinutes();d.showMeridian&&(b=0===b||12===b?12:b%12),d.hours="h"===a?b:j(b),d.minutes="m"===a?c:j(c),d.meridian=o.getHours()<12?p[0]:p[1]}function n(a){var b=new Date(o.getTime()+6e4*a);o.setHours(b.getHours(),b.getMinutes()),k()}if(g){var o=new Date,p=c.meridians,q=c.hourStep;f.hourStep&&d.$parent.$watch(a(f.hourStep),function(a){q=parseInt(a,10)});var r=c.minuteStep;f.minuteStep&&d.$parent.$watch(a(f.minuteStep),function(a){r=parseInt(a,10)}),d.showMeridian=c.showMeridian,f.showMeridian&&d.$parent.$watch(a(f.showMeridian),function(a){if(d.showMeridian=!!a,g.$error.time){var b=h(),c=i();angular.isDefined(b)&&angular.isDefined(c)&&(o.setHours(b),k())}else m()});var s=e.find("input"),t=s.eq(0),u=s.eq(1),v=angular.isDefined(f.mousewheel)?d.$eval(f.mousewheel):c.mousewheel;if(v){var w=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};t.bind("mousewheel wheel",function(a){d.$apply(w(a)?d.incrementHours():d.decrementHours()),a.preventDefault()}),u.bind("mousewheel wheel",function(a){d.$apply(w(a)?d.incrementMinutes():d.decrementMinutes()),a.preventDefault()})}if(d.readonlyInput=angular.isDefined(f.readonlyInput)?d.$eval(f.readonlyInput):c.readonlyInput,d.readonlyInput)d.updateHours=angular.noop,d.updateMinutes=angular.noop;else{var x=function(a,b){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(a)&&(d.invalidHours=a),angular.isDefined(b)&&(d.invalidMinutes=b)};d.updateHours=function(){var a=h();angular.isDefined(a)?(o.setHours(a),k("h")):x(!0)},t.bind("blur",function(){!d.validHours&&d.hours<10&&d.$apply(function(){d.hours=j(d.hours)})}),d.updateMinutes=function(){var a=i();angular.isDefined(a)?(o.setMinutes(a),k("m")):x(void 0,!0)},u.bind("blur",function(){!d.invalidMinutes&&d.minutes<10&&d.$apply(function(){d.minutes=j(d.minutes)})})}g.$render=function(){var a=g.$modelValue?new Date(g.$modelValue):null;isNaN(a)?(g.$setValidity("time",!1),b.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(o=a),l(),m())},d.incrementHours=function(){n(60*q)},d.decrementHours=function(){n(60*-q)},d.incrementMinutes=function(){n(r)},d.decrementMinutes=function(){n(-r)},d.toggleMeridian=function(){n(720*(o.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+c+"'.");return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=b(k.ngModel).assign,u=g.parse(k.typeahead),v=angular.element("<div typeahead-popup></div>");v.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&v.attr("template-url",k.typeaheadTemplateUrl);var w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x=function(){w.matches=[],w.activeIdx=-1},y=function(a){var b={$viewValue:a};q(i,!0),c.when(u.source(i,b)).then(function(c){if(a===l.$viewValue&&m){if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var d=0;d<c.length;d++)b[u.itemName]=c[d],w.matches.push({label:u.viewMapper(w,b),model:c[d]});w.query=a,w.position=f.position(j),w.position.top=w.position.top+j.prop("offsetHeight")}else x();q(i,!1)}},function(){x(),q(i,!1)})};x(),w.query=void 0;var z;l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(z&&d.cancel(z),z=d(function(){y(a)},o)):y(a):(q(i,!1),x()),p?a:a?(l.$setValidity("editable",!1),void 0):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[u.itemName]=a,b=u.viewMapper(i,d),d[u.itemName]=void 0,c=u.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,d={};d[u.itemName]=c=w.matches[a].model,b=u.modelMapper(i,d),t(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:u.viewMapper(i,d)}),x(),j[0].focus()},j.bind("keydown",function(a){return 0===w.matches.length||-1===h.indexOf(a.which)?(13===a.which&&a.preventDefault(),void 0):(a.preventDefault(),40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),x(),w.$digest()),void 0)}),j.bind("blur",function(){m=!1});var A=function(a){j[0]!==a.target&&(x(),w.$digest())};e.bind("click",A),i.$on("$destroy",function(){e.unbind("click",A)}),j.after(a(v)(w))}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?b.replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="accordion-group">\n  <div class="accordion-heading" ><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></div>\n  <div class="accordion-body" collapse="!isOpen">\n    <div class="accordion-inner" ng-transclude></div>  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="accordion" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html","<div class='alert' ng-class='type && \"alert-\" + type'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a ng-click="prev()" class="carousel-control left" ng-show="slides().length > 1">&lsaquo;</a>\n    <a ng-click="next()" class="carousel-control right" ng-show="slides().length > 1">&rsaquo;</a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<table>\n  <thead>\n    <tr class="text-center">\n      <th><button type="button" class="btn pull-left" ng-click="move(-1)"><i class="icon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn pull-right" ng-click="move(1)"><i class="icon-chevron-right"></i></button></th>\n    </tr>\n    <tr class="text-center" ng-show="labels.length > 0">\n      <th ng-show="showWeekNumbers">#</th>\n      <th ng-repeat="label in labels">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{muted: dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}">\n	<li ng-transclude></li>\n	<li class="divider"></li>\n	<li style="padding: 9px;">\n		<span class="btn-group">\n			<button type="button" class="btn btn-small btn-inverse" ng-click="today()">{{currentText}}</button>\n			<button type="button" class="btn btn-small btn-info" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">{{toggleWeeksText}}</button>\n			<button type="button" class="btn btn-small btn-danger" ng-click="clear()">{{clearText}}</button>\n		</span>\n		<button type="button" class="btn btn-small btn-success pull-right" ng-click="isOpen = false">{{closeText}}</button>\n	</li>\n</ul>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}" ng-click="close($event)"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10}" ng-transclude></div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<div class="pager">\n  <ul>\n    <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<div class="pagination"><ul>\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  </ul>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="bar" ng-class=\'type && "bar-" + type\'></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress"><progressbar ng-repeat="bar in bars" width="bar.to" old="bar.from" animate="bar.animate" type="bar.type"></progressbar></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n	<i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" ng-class="$index < val && (r.stateOn || \'icon-star\') || (r.stateOff || \'icon-star-empty\')"></i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'\n<div class="tabbable" ng-class="{\'tabs-right\': direction == \'right\', \'tabs-left\': direction == \'left\', \'tabs-below\': direction == \'below\'}">\n  <div tabset-titles="tabsAbove"></div>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n  <div tabset-titles="!tabsAbove"></div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table class="form-inline">\n	<tr class="text-center">\n		<td><a ng-click="incrementHours()" class="btn btn-link"><i class="icon-chevron-up"></i></a></td>\n		<td>&nbsp;</td>\n		<td><a ng-click="incrementMinutes()" class="btn btn-link"><i class="icon-chevron-up"></i></a></td>\n		<td ng-show="showMeridian"></td>\n	</tr>\n	<tr>\n		<td class="control-group" ng-class="{\'error\': invalidHours}"><input type="text" ng-model="hours" ng-change="updateHours()" class="span1 text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2"></td>\n		<td>:</td>\n		<td class="control-group" ng-class="{\'error\': invalidMinutes}"><input type="text" ng-model="minutes" ng-change="updateMinutes()" class="span1 text-center" ng-readonly="readonlyInput" maxlength="2"></td>\n		<td ng-show="showMeridian"><button type="button" ng-click="toggleMeridian()" class="btn text-center">{{meridian}}</button></td>\n	</tr>\n	<tr class="text-center">\n		<td><a ng-click="decrementHours()" class="btn btn-link"><i class="icon-chevron-down"></i></a></td>\n		<td>&nbsp;</td>\n		<td><a ng-click="decrementMinutes()" class="btn btn-link"><i class="icon-chevron-down"></i></a></td>\n		<td ng-show="showMeridian"></td>\n	</tr>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html","<ul class=\"typeahead dropdown-menu\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n"+'    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}]),!function(a,b){"use strict";var c,d=a.document;c=function(){var c,e,f,g,h,i,j,k,l,m,n,o,p={},q={},r=!1,s={ENTER:13,ESC:27,SPACE:32},t=[];return q={buttons:{holder:'<nav class="alertify-buttons">{{buttons}}</nav>',submit:'<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',ok:'<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',cancel:'<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'},input:'<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',message:'<p class="alertify-message">{{message}}</p>',log:'<article class="alertify-log{{class}}">{{message}}</article>'},o=function(){var a,c,e=!1,f=d.createElement("fakeelement"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in g)if(f.style[a]!==b){c=g[a],e=!0;break}return{type:c,supported:e}
},c=function(a){return d.getElementById(a)},p={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:b,addListeners:function(a){var b,c,h,i,j,k="undefined"!=typeof f,l="undefined"!=typeof e,o="undefined"!=typeof n,p="",q=this;b=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),h(b),"undefined"!=typeof n&&(p=n.value),"function"==typeof a&&("undefined"!=typeof n?a(!0,p):a(!0)),!1},c=function(b){return"undefined"!=typeof b.preventDefault&&b.preventDefault(),h(b),"function"==typeof a&&a(!1),!1},h=function(){q.hide(),q.unbind(d.body,"keyup",i),q.unbind(g,"focus",j),o&&q.unbind(m,"submit",b),k&&q.unbind(f,"click",b),l&&q.unbind(e,"click",c)},i=function(a){var d=a.keyCode;d!==s.SPACE||o||b(a),d===s.ESC&&l&&c(a)},j=function(){o?n.focus():!l||q.buttonReverse?f.focus():e.focus()},this.bind(g,"focus",j),k&&this.bind(f,"click",b),l&&this.bind(e,"click",c),this.bind(d.body,"keyup",i),o&&this.bind(m,"submit",b),this.transition.supported||this.setFocus()},bind:function(a,b,c){"function"==typeof a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},handleErrors:function(){if("undefined"!=typeof a.onerror){var b=this;return a.onerror=function(a,c,d){b.error("["+a+" on line "+d+" of "+c+"]",0)},!0}return!1},appendButtons:function(a,b){return this.buttonReverse?b+a:a+b},build:function(a){var b="",c=a.type,d=a.message,e=a.cssClass||"";switch(b+='<div class="alertify-dialog">',"none"===p.buttonFocus&&(b+='<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'),"prompt"===c&&(b+='<form id="alertify-form">'),b+='<article class="alertify-inner">',b+=q.message.replace("{{message}}",d),"prompt"===c&&(b+=q.input),b+=q.buttons.holder,b+="</article>","prompt"===c&&(b+="</form>"),b+='<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>',b+="</div>",c){case"confirm":b=b.replace("{{buttons}}",this.appendButtons(q.buttons.cancel,q.buttons.ok)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":b=b.replace("{{buttons}}",this.appendButtons(q.buttons.cancel,q.buttons.submit)),b=b.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":b=b.replace("{{buttons}}",q.buttons.ok),b=b.replace("{{ok}}",this.labels.ok)}return k.className="alertify alertify-"+c+" "+e,j.className="alertify-cover",b},close:function(a,b){var c,d,e=b&&!isNaN(b)?+b:this.delay,f=this;this.bind(a,"click",function(){c(a)}),d=function(a){a.stopPropagation(),f.unbind(this,f.transition.type,d),l.removeChild(this),l.hasChildNodes()||(l.className+=" alertify-logs-hidden")},c=function(a){"undefined"!=typeof a&&a.parentNode===l&&(f.transition.supported?(f.bind(a,f.transition.type,d),a.className+=" alertify-log-hide"):(l.removeChild(a),l.hasChildNodes()||(l.className+=" alertify-logs-hidden")))},0!==b&&setTimeout(function(){c(a)},e)},dialog:function(a,b,c,e,f){i=d.activeElement;var g=function(){l&&null!==l.scrollTop&&j&&null!==j.scrollTop||g()};if("string"!=typeof a)throw new Error("message must be a string");if("string"!=typeof b)throw new Error("type must be a string");if("undefined"!=typeof c&&"function"!=typeof c)throw new Error("fn must be a function");return"function"==typeof this.init&&(this.init(),g()),t.push({type:b,message:a,callback:c,placeholder:e,cssClass:f}),r||this.setup(),this},extend:function(a){if("string"!=typeof a)throw new Error("extend method must have exactly one paramter");return function(b,c){return this.log(b,a,c),this}},hide:function(){var a,b=this;t.splice(0,1),t.length>0?this.setup(!0):(r=!1,a=function(c){c.stopPropagation(),k.className+=" alertify-isHidden",b.unbind(k,b.transition.type,a)},this.transition.supported?(this.bind(k,this.transition.type,a),k.className="alertify alertify-hide alertify-hidden"):k.className="alertify alertify-hide alertify-hidden alertify-isHidden",j.className="alertify-cover alertify-cover-hidden",i.focus())},init:function(){d.createElement("nav"),d.createElement("article"),d.createElement("section"),j=d.createElement("div"),j.setAttribute("id","alertify-cover"),j.className="alertify-cover alertify-cover-hidden",d.body.appendChild(j),k=d.createElement("section"),k.setAttribute("id","alertify"),k.className="alertify alertify-hidden",d.body.appendChild(k),l=d.createElement("section"),l.setAttribute("id","alertify-logs"),l.className="alertify-logs alertify-logs-hidden",d.body.appendChild(l),d.body.setAttribute("tabindex","0"),this.transition=o(),delete this.init},log:function(a,b,c){var d=function(){l&&null!==l.scrollTop||d()};return"function"==typeof this.init&&(this.init(),d()),l.className="alertify-logs",this.notify(a,b,c),this},notify:function(a,b,c){var e=d.createElement("article");e.className="alertify-log"+("string"==typeof b&&""!==b?" alertify-log-"+b:""),e.innerHTML=a,l.appendChild(e),setTimeout(function(){e.className=e.className+" alertify-log-show"},50),this.close(e,c)},set:function(a){var b;if("object"!=typeof a&&a instanceof Array)throw new Error("args must be an object");for(b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},setFocus:function(){n?(n.focus(),n.select()):h.focus()},setup:function(a){var d,i=t[0],j=this;r=!0,d=function(a){a.stopPropagation(),j.setFocus(),j.unbind(k,j.transition.type,d)},this.transition.supported&&!a&&this.bind(k,this.transition.type,d),k.innerHTML=this.build(i),g=c("alertify-resetFocus"),f=c("alertify-ok")||b,e=c("alertify-cancel")||b,h="cancel"===p.buttonFocus?e:"none"===p.buttonFocus?c("alertify-noneFocus"):f,n=c("alertify-text")||b,m=c("alertify-form")||b,"string"==typeof i.placeholder&&""!==i.placeholder&&(n.value=i.placeholder),a&&this.setFocus(),this.addListeners(i.callback)},unbind:function(a,b,c){"function"==typeof a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}},{alert:function(a,b,c){return p.dialog(a,"alert",b,"",c),this},confirm:function(a,b,c){return p.dialog(a,"confirm",b,"",c),this},extend:p.extend,init:p.init,log:function(a,b,c){return p.log(a,b,c),this},prompt:function(a,b,c,d){return p.dialog(a,"prompt",b,c,d),this},success:function(a,b){return p.log(a,"success",b),this},error:function(a,b){return p.log(a,"error",b),this},set:function(a){p.set(a)},labels:p.labels,debug:p.handleErrors}},"function"==typeof define?define([],function(){return new c}):"undefined"==typeof a.alertify&&(a.alertify=new c)}(this),angular.module("color-pusher-widget.templates",["color-pusher.tpl.html","colour-lovers.tpl.html","widget.tpl.html"]),angular.module("color-pusher.tpl.html",[]).run(["$templateCache",function(a){a.put("color-pusher.tpl.html",'<div>\n  <div ng-hide="showColorPusher">\n    <center>\n      <button type="button" class="show-color-pusher-button btn btn-default"\n        ng-click="showColorPusher=true;"\n        title="Show color-pusher widget">\n        <span class="glyphicon glyphicon-chevron-up"></span>\n        color-pusher</button>\n    </center>\n  </div>\n\n  <!-- put large empty space at the end of the page to make sure\n  color-pusher does not overlay with main content -->\n  <div ng-show="showColorPusher" class="color-pusher-spacer">\n  </div>\n\n  <div ng-show="showColorPusher" class="color-pusher">\n    <button type="button" id="closeColorPusher" class="btn btn-default" aria-hidden="true"\n      ng-click="showColorPusher=false;"\n      title="Hide color-pusher widget">\n      <span class="glyphicon glyphicon-chevron-down"></span>\n    </button>\n\n    <color-pusher-widget></color-pusher-widget>\n\n    <center>\n      <a href="https://github.com/bahmutov/color-pusher">\n        <strong>color-pusher</strong>\n      </a> &copy; 2013 Gleb Bahmutov\n      <a href="https://twitter.com/bahmutov">@bahmutov</a>\n    </center>\n\n  </div>\n</div>\n')}]),angular.module("colour-lovers.tpl.html",[]).run(["$templateCache",function(a){a.put("colour-lovers.tpl.html",'<div>\n  <label for="colourLoverPalette"\n    class="control-label col-sm-2">\n    <a href="http://www.colourlovers.com/palettes" target="_blank">ColourLover Palette</a>\n  </label>\n  <div class="col-sm-6">\n    <div class="input-group">\n      <input\n        id="colourLoverPalette"\n        class="form-control"\n        type="text" size="80"\n        placeholder="{{placeholder}}"\n        ng-model="paletteId">\n    </div>\n  </div>\n\n  <div class="col-sm-1">\n    <button type="button" class="btn btn-primary"\n      ng-click="fetchPalette()"\n      ng-disabled="!isValidPalette() || fetchingPalette"\n      title="Pull palette colors">Fetch palette</button>\n  </div>\n</div>\n')}]),angular.module("widget.tpl.html",[]).run(["$templateCache",function(a){a.put("widget.tpl.html",'<div>\n  <div class="row">\n    <div class="col-md-12">\n\n    <form class="form-horizontal" role="form">\n      <div class="form-group" ng-repeat="color in colors track by $index + color">\n\n        <button type="button" class="pull-left margin-left-15 btn btn-default btn-sm"\n          title="Remove this color"\n          ng-click="removeColor($index);">\n          <span class="glyphicon glyphicon-remove"></span>\n        </button>\n\n        <label for="colorPicker{{$index}}"\n          class="col-sm-1 control-label">color {{$index}}</label>\n        <div class="col-sm-2">\n          <div class="input-group">\n            <input\n              id="colorPicker{{$index}}"\n              class="form-control"\n              type="text"\n              minicolors="hueSettings"\n              ng-model="colors[$index]">\n          </div>\n\n        </div>\n\n        <div class="col-sm-2 semi-tight">\n          <button type="button" class="tight btn btn-default btn-xs"\n            title="Decrease hue" ng-click="changeColor($index, \'hue\', \'-2\');">\n            <span class="glyphicon glyphicon-arrow-left"></span>\n          </button>\n          <button type="button" class="tight btn btn-default btn-xs"\n            title="Increase hue" ng-click="changeColor($index, \'hue\', \'+2\');">\n            <span class="glyphicon glyphicon-arrow-right"></span>\n          </button>\n\n          <button type="button" class="tight btn btn-default btn-xs"\n            title="Decrease saturation" ng-click="changeColor($index, \'saturation\', \'-1\');">\n            <span class="glyphicon glyphicon-chevron-down"></span>\n          </button>\n          <button type="button" class="tight btn btn-default btn-xs"\n            title="Increase saturation" ng-click="changeColor($index, \'saturation\', \'+1\');">\n            <span class="glyphicon glyphicon-chevron-up"></span>\n          </button>\n\n          <button type="button" class="tight btn btn-default btn-xs"\n            title="Decrease value" ng-click="changeColor($index, \'value\', \'-1\');">\n            <span class="glyphicon glyphicon-circle-arrow-down"></span>\n          </button>\n          <button type="button" class="tight btn btn-default btn-xs"\n            title="Increase value" ng-click="changeColor($index, \'value\', \'+1\');">\n            <span class="glyphicon glyphicon-circle-arrow-up"></span>\n          </button>\n        </div>\n\n        <div class="col-sm-2 semi-tight">\n          <input type="text" class="form-control"\n            id="selector{{$index}}"\n            placeholder=".alert-info" required\n            ng-model="selectors[$index]">\n        </div>\n        <div class="col-sm-1 semi-tight">\n          <button ng-hide="$last" type="button" class="btn btn-default btn-xs basement"\n            title="Swap selectors" ng-click="swapSelector($index)">\n            <span class="glyphicon glyphicon-sort"></span>\n          </button>\n        </div>\n\n        <label for="textColor{{$index}}"\n          class="col-sm-1 control-label">text {{$index}}</label>\n        <div class="btn-group" id="textColor{{$index}}">\n          <button type="button" class="btn btn-default"\n            ng-model="textColorStrategy[$index]" btn-radio="\'white\'">white</button>\n          <button type="button" class="btn btn-default"\n            ng-model="textColorStrategy[$index]" btn-radio="\'black\'">black</button>\n          <button type="button" class="btn btn-default"\n            ng-model="textColorStrategy[$index]" btn-radio="\'auto\'">auto</button>\n      </div>\n\n      </div>\n\n      <button type="button" class="pull-left btn btn-default btn-sm"\n        title="Add new color"\n        ng-click="addColor();">\n        <span class="glyphicon glyphicon-plus"></span>\n      </button>\n\n      <div class="form-group">\n        <center>\n\n          <button type="button" class="btn btn-primary color-pusher"\n            ng-click="applyColors()"\n            title="apply current colors to selectors">Apply colors</button>\n\n          <button type="button" class="btn btn-default"\n            data-toggle="modal" data-target="#shareResultsModal"\n            title="Show current colors as text for easy export">\n            <span class="glyphicon glyphicon-share-alt"></span>\n          </button>\n\n        </center>\n      </div>\n\n      <div class="form-group">\n        <colour-lovers></colour-lovers>\n      </div>\n\n        <div class="form-group">\n          <label for="generateButtons"\n            class="col-md-2 control-label">Generate colors based on first color 0</label>\n\n          <div class="col-md-8 input-group" id="generateButtons">\n          <button type="button" class="btn btn-default color-pusher"\n            ng-click="splitcomplement()"\n            title="generate the splitcomplement complements of a base color">splitcomplement</button>\n\n          <button type="button" class="btn btn-default color-pusher"\n            ng-click="monochromatic()"\n            title="generate monochromatic colors from base color">monochromatic</button>\n\n          <button type="button" class="btn btn-default color-pusher"\n            ng-click="analogous()"\n            title="generate analogous colors from base color">Analogous</button>\n\n          <button type="button" class="btn btn-default color-pusher"\n            ng-click="tetrad()"\n            title="generate +3 colors from base color">Tetrad</button>\n\n          <button type="button" class="btn btn-default color-pusher"\n            ng-click="triad()"\n            title="generate +2 colors from base color">Triad</button>\n          </div>\n        </div>\n    </form>\n\n    </div>\n  </div>\n\n  <!-- Modal -->\n  <div class="modal fade" id="shareResultsModal" tabindex="-1"\n    role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"\n    data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n          <h4 class="modal-title" id="myModalLabel">Current colors</h4>\n        </div>\n        <div class="modal-body">\n          <pre><code>{{colorsToShare()|json}}</code></pre>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n')}]),function(a){function b(){return{restrict:"E",templateUrl:"widget.tpl.html",replace:!0,transclude:!1,link:function(a,b,c){a.setSelectorsAndColors(c),$("#shareResultsModal").detach().appendTo("body")},controller:["$scope",c]}}function c(b){function c(a,b){check.verify.array(a,"missing array"),console.assert(b>=0&&b<a.length-1,"invalid selector index "+b);var c=a[b];a[b]=a[b+1],a[b+1]=c}function d(a){return check.verify.color(a,"expected color, got "+a),g.distance(a,"black")>g.distance(a,"white")}function e(a,b){if("white"===b)return"#ffffff";if("black"===b)return"#000000";check.verify.color(a,"expected background color "+a);var c=g.complementary(a);return g.readable(c,a)?c.getHex():d(a)?"#000000":"#ffffff"}function f(a){var b={hue:!0,saturation:!0,value:!0};return b[a]}console.assert($.xcolor,"missing jquery.xcolor plugin");var g=$.xcolor;b.showColorPusher=!1,b.defaultSettings={control:"hue",position:"bottom left",theme:"bootstrap"},b.hueSettings=a.copy(b.defaultSettings),b.colors=["#f5e384","#9c846e","#9c046e","#6e889c","#9c846e","#9c4242"],b.textColors=["#ffffff"],b.textColorStrategy=["auto"],b.lastGeneration=null,b.selectors=["body",".well",".alert-info",".alert-success",".alert-warning",".alert-danger"],b.colorsToShare=function(){var a={};return b.colors.forEach(function(c,d){a[b.selectors[d]]={"background-color":c,color:b.textColors[d]}}),a},b.setSelectorsAndColors=function(a){check.unemptyString(a.selectors)&&(b.selectors=a.selectors.split(",").map(function(a){return a.trim()})),check.unemptyString(a.colors)&&(b.colors=a.colors.split(",").map(function(a){return a.trim()}),check.verify.colors(b.colors)),b.generateForegroundColors()},b.setColors=function(a){check.verify.colors(a),b.lastGeneration=null,b.colors=a,b.applyColors()},b.$on("set-colors",function(a,c){b.setColors(c)}),b.$on("selectors-colors",function(a,c){b.setSelectorsAndColors(c)}),b.applyColors=function(){this.generateForegroundColors();var a={};b.colors.forEach(function(c,d){var e=b.selectors[d];if(c&&check.unemptyString(e)){var f=b.textColors[d];check.verify.color(f,"missing text color for index "+d),a[e]={backgroundColor:c,borderColor:c,color:f}}}),b.$emit("apply-colors",a)},b.swapSelector=function(a){console.assert(a>=0&&a<b.selectors.length-1,"invalid selector index "+a),c(b.selectors,a)},b.generateColors=function(a){check.verify.unemptyString(a,"missing generation operation"),b.lastGeneration=a;var c=b.colors[0];check.verify.color(c,"expected base color, have "+c);var d=g[a](c);check.verify.array(d,"could not get triad array from base color "+c),b.colors=d.map(function(a){return a.getHex()}),this.generateForegroundColors()},b.generateForegroundColors=function(){b.textColorStrategy=b.colors.map(function(a,c){var d=b.textColorStrategy[c];return check.unemptyString(d)?d:"auto"}),b.textColors=b.colors.map(function(a,c){var d=b.textColorStrategy[c];return e(a,d)})},["triad","tetrad","analogous","monochromatic","splitcomplement"].forEach(function(a){b[a]=b.generateColors.bind(b,a)}),b.changeColor=function(a,c,d){console.assert(a>=0&&a<b.colors.length,"invalid color index "+a),console.assert(f(c),"invalid property "+c),check.verify.unemptyString(d,"delta should be a string, not "+d);var e=b.colors[a];check.verify.unemptyString(e,"missing color for index "+a+" have "+e),/^#/.test(e)||(e="#"+e);var g=pusher.color(e);g=g[c](d),e=g.hex6().toLowerCase(),b.colors[a]=e,b.applyColors()},b.removeColor=function(a){check.verify.number(a,"expected color index to be a number "+a),console.assert(a>=0&&a<b.colors.length,"invalid color index "+a),b.colors.splice(a,1),b.selectors.splice(a,1),b.textColors.splice(a,1),b.textColorStrategy.splice(a,1)},b.addColor=function(){b.colors.push("#efefef"),b.selectors.push(""),b.textColors.push("#000000"),b.textColorStrategy.push("auto")}}console.assert(pusher,"missing pusher.color plugin");var d=a.module("color-pusher-widget",["colour-lovers","minicolors","ui.bootstrap","color-pusher-widget.templates"]);d.directive("colorPusherWidget",b)}(angular),function(a){function b(){return{restrict:"E",templateUrl:"colour-lovers.tpl.html",replace:!0,link:function(){},controller:["$scope","$http",c]}}function c(a,b){a.paletteId="",a.placeholder="3148032 or http://www.colourlovers.com/palette/3148032/The_Sky_Opens_Up",a.isValidPalette=function(){return check.webUrl(a.paletteId)||check.positiveNumber(+a.paletteId)},a.fetchPalette=function(){try{check.webUrl(a.paletteId)&&(a.paletteId=/palette\/\d+\//.exec(a.paletteId)[0],a.paletteId=/\d+/.exec(a.paletteId)[0])}catch(c){return alertify.error("Could not parse palette "+a.paletteId),void 0}console.log("fetching pallette",a.paletteId),a.fetchingPalette=!0;var d="http://www.colourlovers.com/api/palette/"+a.paletteId,e={url:d,params:{format:"json",jsonCallback:"JSON_CALLBACK"}};b.jsonp(d,e).success(function(b){return b[0]?(console.log("pallete",b[0]),check.verify.colors(b[0].colors),a.$emit("set-colors",b[0].colors),void 0):(alertify.error("Undefined palette returned for id "+a.paletteId),void 0)}).error(function(b){alertify.error("Could not fetch palette "+a.paletteId),console.error(b)}).finally(function(){a.fetchingPalette=!1})}}var d=a.module("colour-lovers",["colour-lovers.tpl.html"]);d.directive("colourLovers",b)}(angular),function(a){function b(){return{restrict:"E",templateUrl:"color-pusher.tpl.html",replace:!0,link:function(a,b,c){(c.selectors||c.colors)&&a.$broadcast("selectors-colors",c)},controller:["$scope",c]}}function c(a){a.$on("apply-colors",function(a,b){check.verify.object(b,"expected colors to be an object "+JSON.stringify(b,null,2)),Object.keys(b).forEach(function(a){var c=b[a];$(a).css(c)})})}var d=a.module("color-pusher",["color-pusher-widget","color-pusher.tpl.html"]);d.directive("colorPusher",b)}(angular);